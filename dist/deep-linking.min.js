!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.DeepLinking=e()}}(function(){return function e(t,s,n){function i(r,l){if(!s[r]){if(!t[r]){var o="function"==typeof require&&require;if(!l&&o)return o(r,!0);if(a)return a(r,!0);var c=new Error("Cannot find module '"+r+"'");throw c.code="MODULE_NOT_FOUND",c}var h=s[r]={exports:{}};t[r][0].call(h.exports,function(e){var s=t[r][1][e];return i(s?s:e)},h,h.exports,e,t,s,n)}return s[r].exports}for(var a="function"==typeof require&&require,r=0;r<n.length;r++)i(n[r]);return i}({1:[function(e,t){!function(e){var s=function(e){this.init(e)};s.prototype={init:function(e){this.tagSelectors=[];for(var t=0;t<e.length;t++)this.tagInclusion(e[t].nodeName)&&this.tagSelectors.push(e[t]);this.classActive="em-active",this.classInfo="em-info",this.classSelectedTag="selected-tag",this.classActiveTag="active-tag",this.pl=!1,this.p=!1,this.h=!1,this.addCSS(),this.readHash()},tagInclusion:function(e){var t=["P","LI","BLOCKQUOTE","CODE","PRE","STRONG","EM","H1","H2","H3","H4","H5","H6"];return t.indexOf(e)>=0},addCSS:function(){var e=document.createElement("style");e.setAttribute("type","text/css");var t="."+this.classSelectedTag+" { display: block; position: relative; background: #F2F4F5; }@-webkit-keyframes backgroundFade{ 0%{background:#FFF0B3;} 100%{background:transparent;}} ."+this.classActiveTag+" { display: block; position: relative; background-color: transparent; -webkit-animation:backgroundFade 5s; }";try{e.innerHTML=t}catch(s){e.styleSheet.cssText=t}document.getElementsByTagName("head")[0].appendChild(e)},readHash:function(){var e=decodeURI(location.hash),t=e.match(/\[([^[\]]*)\]/),s=t&&t.length>0?t[1]:!1;this.p=s,this.goAnchor(s),this.highlightMatch()},tagList:function(){if(this.pl&&this.pl.list.length>0)return this.pl;for(var e=this,t=[],s=[],n=0,i=0;i<this.tagSelectors.length;i++){var a=this.tagSelectors[i];if((a.innerText||a.textContent||"").length>0){var r=e.createKey(a);t.push(a),s.push(r),a.setAttribute("data-key",r),a.setAttribute("data-num",n),this.addEvent(a,"click",function(t){t.currentTarget.nodeName&&e.tagInclusion(t.currentTarget.nodeName)&&e.tagClick(t)}),n++}}return this.pl={list:t,keys:s},this.pl},tagClick:function(e){var t=document.querySelector("."+this.classActiveTag);t&&this.removeClass(t,this.classActiveTag);var s=!1,n=e.currentTarget;n&&(this.hasClass(n,this.classSelectedTag)||(this.updateTag(n),s=!0)),this.updateURLHash(s)},updateTag:function(e){this.p=e.getAttribute("data-key");var t=document.querySelector("."+this.classSelectedTag);t&&this.removeClass(t,this.classSelectedTag),this.addClass(e,this.classSelectedTag)},updateURLHash:function(e){var t,s,n;if(e){for(var i="h[",a=document.querySelectorAll(".emReady"),r=a.length,l=0;r>l;l++)if(t=a[l].getAttribute("data-key"),s!==sLen)for(var o=0;o<sLen;o++)i+=","+spans[o].getAttribute("data-num");var c=this.p?"["+this.p+"],":"";n=(c+(i.replace("h[,","h[")+"]")).replace(",h[]","")}else{var h=document.querySelector("."+this.classSelectedTag);this.removeClass(h,this.classSelectedTag),n="_"}location.hash=n},createKey:function(e){var t,s,n,i,a,r="",l=6,o=(e.innerText||e.textContent||"").replace(/[^a-z\. ]+/gi,"");if(o&&o.length>1&&(t=this.getSentences(o),t.length>0)){s=this.cleanArray(t[0].replace(/[\s\s]+/gi," ").split(" ")).slice(0,l/2),n=this.cleanArray(t[t.length-1].replace(/[\s\s]+/gi," ").split(" ")).slice(0,l/2),i=s.concat(n),a=i.length>l?l:i.length;for(var c=0;a>c;c++)r+=i[c].substring(0,1)}return r},findKey:function(e){for(var t,s,n=this.tagList(),i=n.keys.length,a=!1,r=!1,l=0;i>l;l++){if(e===n.keys[l])return{index:l,elm:n.list[l]};a||(t=this.lev(e.slice(0,3),n.keys[l].slice(0,3)),s=this.lev(e.slice(-3),n.keys[l].slice(-3)),3>t+s&&(a=l,r=n.list[l]))}return{index:a,elm:r}},goAnchor:function(e){if(e){var t=isNaN(e)?this.findKey(e).elm:this.tagList().list[e-1]||!1,s=this;t&&setTimeout(function(){document.body.scrollTop=s.offset(t).top},500)}},highlightMatch:function(){var e,t,s,n=document.querySelectorAll("span."+this.classInfo);if(0===n.length)for(var i=this.tagList(),a=i.list.length,r=0;a>r;r++)e=i.list[r]||!1,e&&(t=i.keys[r],s=t===this.p?e.className=this.classActiveTag:"")},getSentences:function(e){var t,s,n="string"==typeof e?e:e.innerHTML,i="Mr,Ms,Mrs,Miss,Msr,Dr,Gov,Pres,Sen,Prof,Gen,Rep,St,Messrs,Col,Sr,Jf,Ph,Sgt,Mgr,Fr,Rev,No,Jr,Snr",a="A,B,C,D,E,F,G,H,I,J,K,L,M,m,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,etc,oz,cf,viz,sc,ca,Ave,St",r="Calif,Mass,Penn,AK,AL,AR,AS,AZ,CA,CO,CT,DC,DE,FL,FM,GA,GU,HI,IA,ID,IL,IN,KS,KY,LA,MA,MD,ME,MH,MI,MN,MO,MP,MS,MT,NC,ND,NE,NH,NJ,NM,NV,NY,OH,OK,OR,PA,PR,PW,RI,SC,SD,TN,TX,UT,VA,VI,VT,WA,WI,WV,WY,AE,AA,AP,NYC,GB,IRL,IE,UK,GB,FR",l="0,1,2,3,4,5,6,7,8,9",o="aero,asia,biz,cat,com,coop,edu,gov,info,int,jobs,mil,mobi,museum,name,net,org,pro,tel,travel,xxx",c="www",h="__DOT__",u=(a+","+r+","+l+","+c).split(","),f=u.length;for(t=0;f>t;t++)n=n.replace(new RegExp(" "+u[t]+"\\.","g")," "+u[t]+h);for(u=(i+","+l).split(","),f=u.length,t=0;f>t;t++)n=n.replace(new RegExp(u[t]+"\\.","g"),u[t]+h);for(u=o.split(","),f=u.length,t=0;f>t;t++)n=n.replace(new RegExp("\\."+u[t],"g"),h+u[t]);return s=this.cleanArray(n.split(". "))},lev:function(e,t){var s,n=e.length,i=t.length,a=[];a[0]=[],i>n&&(r=e,e=t,t=r,s=n,n=i,i=s);for(var r=0;i+1>r;r++)a[0][r]=r;for(var l=1;n+1>l;l++){a[l]=[],a[l][0]=l;for(var o=1;i+1>o;o++)a[l][o]=this.smallest(a[l-1][o]+1,a[l][o-1]+1,a[l-1][o-1]+(e.charAt(l-1)===t.charAt(o-1)?0:1))}return a[n][i]},smallest:function(e,t,s){return t>e&&s>e?e:e>t&&s>t?t:s},cleanArray:function(e){for(var t=[],s=0;s<e.length;s++)e[s]&&e[s].replace(/ /g,"").length>0&&t.push(e[s]);return t},addEvent:function(e,t,s){e.attachEvent?(e["e"+t+s]=s,e[t+s]=function(){e["e"+t+s](window.event)},e.attachEvent("on"+t,e[t+s])):e.addEventListener(t,s,!1)},hasClass:function(e,t){e.classList?e.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(e.className)},removeClass:function(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")},addClass:function(e,t){e.classList?e.classList.add(t):e.className+=" "+t},offset:function(e){var t=e.getBoundingClientRect();return{top:t.top+document.body.scrollTop,left:t.left+document.body.scrollLeft}}},e.DeepLinking=s,"undefined"!=typeof t&&t.exports&&(t.exports=s)}(this)},{}]},{},[1])(1)});