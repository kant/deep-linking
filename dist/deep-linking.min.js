!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.DeepLinking=e()}}(function(){return function e(t,a,s){function r(i,l){if(!a[i]){if(!t[i]){var c="function"==typeof require&&require;if(!l&&c)return c(i,!0);if(n)return n(i,!0);var o=new Error("Cannot find module '"+i+"'");throw o.code="MODULE_NOT_FOUND",o}var h=a[i]={exports:{}};t[i][0].call(h.exports,function(e){var a=t[i][1][e];return r(a?a:e)},h,h.exports,e,t,a,s)}return a[i].exports}for(var n="function"==typeof require&&require,i=0;i<s.length;i++)r(s[i]);return r}({1:[function(e,t){!function(e){var a=function(e){this.init(e)};a.prototype={init:function(e){this.paraSelctors=e,this.classActive="em-active",this.classInfo="em-info",this.classSelectedParagraph="selected-paragraph",this.classActiveParagraph="active-paragraph",this.pl=!1,this.p=!1,this.h=!1,this.addCSS(),this.readHash()},addCSS:function(){var e=document.createElement("style");e.setAttribute("type","text/css");var t="p."+this.classSelectedParagraph+" { display: block; position: relative; background: #F2F4F5; }@-webkit-keyframes backgroundFade{ 0%{background:#FFF0B3;} 100%{background:transparent;}} p."+this.classActiveParagraph+" { display: block; position: relative; background-color: transparent; -webkit-animation:backgroundFade 5s; }";try{e.innerHTML=t}catch(a){e.styleSheet.cssText=t}document.getElementsByTagName("head")[0].appendChild(e)},readHash:function(){var e,t,a,s,r,n,i,l=decodeURI(location.hash),c=!1;if(a=l.match(/p\[([^[\]]*)\]/),s=l.match(/h\[([^[\]]*)\]/),c=a&&a.length>0?a[1]:!1,r=s&&s.length>0?s[1]:!1)for(r=r.match(/[a-zA-Z]+(,[0-9]+)*/g),t=0;t<r.length;t++)e=r[t].split(","),n=e[0],i=this.findKey(n).index;this.p=c,this.goAnchor(c),this.highlightMatch()},paragraphList:function(){if(this.pl&&this.pl.list.length>0)return this.pl;for(var e,t,a=this,s=[],r=[],n=0,i=this.paraSelctors.length,l=0;i>l;l++)e=this.paraSelctors[l],(e.innerText||e.textContent||"").length>0&&(t=a.createKey(e),s.push(e),r.push(t),e.setAttribute("data-key",t),e.setAttribute("data-num",n),this.addEvent(e,"click",function(e){a.paragraphClick(e)}),n++);return this.pl={list:s,keys:r},this.pl},paragraphClick:function(e){var t=document.querySelector("p."+this.classActiveParagraph);t&&this.removeClass(t,this.classActiveParagraph);var a=!1,s="P"===e.currentTarget.nodeName?e.currentTarget:!1,r="A"===e.target.nodeName?e.target:!1;(s||r)&&(this.hasClass(s,this.classSelectedParagraph)||(this.updateParagraph(s),a=!0)),this.updateURLHash(a)},paragraphInfo:function(){var e,t,a,s=document.querySelectorAll("span."+this.classInfo);if(0===s.length)for(var r=this.paragraphList(),n=r.list.length,i=0;n>i;i++)e=r.list[i]||!1,e&&(t=r.keys[i],a=t===this.p?e.className=this.classActiveParagraph:"")},updateParagraph:function(e){this.p=e.getAttribute("data-key");var t=document.querySelector("p."+this.classSelectedParagraph);t&&this.removeClass(t,this.classSelectedParagraph),this.addClass(e,this.classSelectedParagraph)},updateURLHash:function(e){var t,a,s;if(e){for(var r="h[",n=document.querySelectorAll("p.emReady"),i=n.length,l=0;i>l;l++)if(t=n[l].getAttribute("data-key"),a!==sLen)for(var c=0;c<sLen;c++)r+=","+spans[c].getAttribute("data-num");var o=this.p?"p["+this.p+"],":"";s=(o+(r.replace("h[,","h[")+"]")).replace(",h[]","")}else{var h=document.querySelector("p."+this.classSelectedParagraph);this.removeClass(h,this.classSelectedParagraph),s="_"}location.hash=s},createKey:function(e){var t,a,s,r,n,i="",l=6,c=(e.innerText||e.textContent||"").replace(/[^a-z\. ]+/gi,"");if(c&&c.length>1&&(t=this.getSentences(c),t.length>0)){a=this.cleanArray(t[0].replace(/[\s\s]+/gi," ").split(" ")).slice(0,l/2),s=this.cleanArray(t[t.length-1].replace(/[\s\s]+/gi," ").split(" ")).slice(0,l/2),r=a.concat(s),n=r.length>l?l:r.length;for(var o=0;n>o;o++)i+=r[o].substring(0,1)}return i},findKey:function(e){for(var t,a,s=this.paragraphList(),r=s.keys.length,n=!1,i=!1,l=0;r>l;l++){if(e===s.keys[l])return{index:l,elm:s.list[l]};n||(t=this.lev(e.slice(0,3),s.keys[l].slice(0,3)),a=this.lev(e.slice(-3),s.keys[l].slice(-3)),3>t+a&&(n=l,i=s.list[l]))}return{index:n,elm:i}},goAnchor:function(e){if(e){var t=isNaN(e)?this.findKey(e).elm:this.paragraphList().list[e-1]||!1,a=this;t&&setTimeout(function(){document.body.scrollTop=a.offset(t).top},500)}},highlightMatch:function(){var e,t,a,s=document.querySelectorAll("span."+this.classInfo);if(0===s.length)for(var r=this.paragraphList(),n=r.list.length,i=0;n>i;i++)e=r.list[i]||!1,e&&(t=r.keys[i],a=t===this.p?e.className=this.classActiveParagraph:"")},getSentences:function(e){var t,a,s="string"==typeof e?e:e.innerHTML,r="Mr,Ms,Mrs,Miss,Msr,Dr,Gov,Pres,Sen,Prof,Gen,Rep,St,Messrs,Col,Sr,Jf,Ph,Sgt,Mgr,Fr,Rev,No,Jr,Snr",n="A,B,C,D,E,F,G,H,I,J,K,L,M,m,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,etc,oz,cf,viz,sc,ca,Ave,St",i="Calif,Mass,Penn,AK,AL,AR,AS,AZ,CA,CO,CT,DC,DE,FL,FM,GA,GU,HI,IA,ID,IL,IN,KS,KY,LA,MA,MD,ME,MH,MI,MN,MO,MP,MS,MT,NC,ND,NE,NH,NJ,NM,NV,NY,OH,OK,OR,PA,PR,PW,RI,SC,SD,TN,TX,UT,VA,VI,VT,WA,WI,WV,WY,AE,AA,AP,NYC,GB,IRL,IE,UK,GB,FR",l="0,1,2,3,4,5,6,7,8,9",c="aero,asia,biz,cat,com,coop,edu,gov,info,int,jobs,mil,mobi,museum,name,net,org,pro,tel,travel,xxx",o="www",h="__DOT__",p=(n+","+i+","+l+","+o).split(","),u=p.length;for(t=0;u>t;t++)s=s.replace(new RegExp(" "+p[t]+"\\.","g")," "+p[t]+h);for(p=(r+","+l).split(","),u=p.length,t=0;u>t;t++)s=s.replace(new RegExp(p[t]+"\\.","g"),p[t]+h);for(p=c.split(","),u=p.length,t=0;u>t;t++)s=s.replace(new RegExp("\\."+p[t],"g"),h+p[t]);return a=this.cleanArray(s.split(". "))},ordinal:function(e){var t=["th","st","nd","rd"],a=e%100;return e+(t[(a-20)%10]||t[a]||t[0])},lev:function(e,t){var a,s=e.length,r=t.length,n=[];n[0]=[],r>s&&(i=e,e=t,t=i,a=s,s=r,r=a);for(var i=0;r+1>i;i++)n[0][i]=i;for(var l=1;s+1>l;l++){n[l]=[],n[l][0]=l;for(var c=1;r+1>c;c++)n[l][c]=this.smallest(n[l-1][c]+1,n[l][c-1]+1,n[l-1][c-1]+(e.charAt(l-1)===t.charAt(c-1)?0:1))}return n[s][r]},smallest:function(e,t,a){return t>e&&a>e?e:e>t&&a>t?t:a},rtrim:function(e){return e.replace(/\s+$/,"")},cleanArray:function(e){for(var t=[],a=0;a<e.length;a++)e[a]&&e[a].replace(/ /g,"").length>0&&t.push(e[a]);return t},addEvent:function(e,t,a){e.attachEvent?(e["e"+t+a]=a,e[t+a]=function(){e["e"+t+a](window.event)},e.attachEvent("on"+t,e[t+a])):e.addEventListener(t,a,!1)},hasClass:function(e,t){e.classList?e.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(e.className)},removeClass:function(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")},addClass:function(e,t){e.classList?e.classList.add(t):e.className+=" "+t},offset:function(e){var t=e.getBoundingClientRect();return{top:t.top+document.body.scrollTop,left:t.left+document.body.scrollLeft}}},e.DeepLinking=a,"undefined"!=typeof t&&t.exports&&(t.exports=a)}(this)},{}]},{},[1])(1)});